<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Carousel Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-md mx-auto bg-white rounded-xl p-6">
        <h1 class="text-xl font-bold mb-4">Simple Carousel Test</h1>
        
        <!-- Testimonial Section -->
        <div class="border border-gray-200 rounded-xl p-6 mb-8">
            <div class="flex justify-center mb-4">
                <div class="flex space-x-1">
                    <button class="review-indicator w-2 h-2 bg-gray-800 rounded-full transition-all duration-300 hover:scale-110 cursor-pointer" data-review="0"></button>
                    <button class="review-indicator w-2 h-2 bg-gray-300 rounded-full transition-all duration-300 hover:scale-110 cursor-pointer" data-review="1"></button>
                    <button class="review-indicator w-2 h-2 bg-gray-300 rounded-full transition-all duration-300 hover:scale-110 cursor-pointer" data-review="2"></button>
                </div>
            </div>
            <div class="review-content relative overflow-hidden" style="height: 80px;">
                <div class="review-slider flex transition-transform duration-500 ease-in-out" id="reviewSlider" style="width: 300%;">
                    <div class="review-slide w-1/3 flex-shrink-0 flex items-center justify-center">
                        <p class="text-gray-800 text-sm leading-relaxed text-center px-4">
                            ❤️ "Loved the song they made for my sister, it was so personal and sweet. She cried when she heard it ❤️."
                        </p>
                    </div>
                    <div class="review-slide w-1/3 flex-shrink-0 flex items-center justify-center">
                        <p class="text-gray-800 text-sm leading-relaxed text-center px-4">
                            Honestly didn't expect it to be this good. Sent them a few details and got back a song my friend keeps replaying.
                        </p>
                    </div>
                    <div class="review-slide w-1/3 flex-shrink-0 flex items-center justify-center">
                        <p class="text-gray-800 text-sm leading-relaxed text-center px-4">
                            Such a unique gift. I surprised my fiancé with a song and he said it's the best present he's ever had.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center">
            <p class="text-sm text-gray-600">Click the dots or wait 5 seconds for auto-rotation</p>
            <p id="status" class="text-xs text-gray-500 mt-2">Status: Initializing...</p>
        </div>
    </div>

    <script>
        // Review carousel functionality
        let currentReviewIndex = 0;
        let reviewSlider, indicators;
        let autoRotateInterval;
        
        function initCarousel() {
            reviewSlider = document.getElementById('reviewSlider');
            indicators = document.querySelectorAll('.review-indicator');
            
            if (!reviewSlider || !indicators.length) {
                setTimeout(initCarousel, 100);
                return;
            }
            
            document.getElementById('status').textContent = 'Status: Carousel initialized!';
            
            // Set initial position (show first review)
            updateCarousel();
            
            // Add click handlers for indicators
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', function() {
                    document.getElementById('status').textContent = `Status: Clicked indicator ${index}`;
                    goToReview(index);
                });
            });
            
            // Start auto-rotation
            startAutoRotation();
        }
        
        function updateCarousel() {
            if (!reviewSlider || !indicators.length) return;
            
            // Move slider to show current review
            const translateX = -currentReviewIndex * 33.333; // 33.333% per slide
            reviewSlider.style.transform = `translateX(${translateX}%)`;
            
            // Update indicators
            indicators.forEach((indicator, index) => {
                if (index === currentReviewIndex) {
                    indicator.classList.remove('bg-gray-300');
                    indicator.classList.add('bg-gray-800');
                    indicator.style.transform = 'scale(1.2)';
                } else {
                    indicator.classList.remove('bg-gray-800');
                    indicator.classList.add('bg-gray-300');
                    indicator.style.transform = 'scale(1)';
                }
            });
            
            document.getElementById('status').textContent = `Status: Showing review ${currentReviewIndex + 1}`;
        }
        
        function goToReview(index) {
            currentReviewIndex = index;
            updateCarousel();
            
            // Restart auto-rotation after manual click
            startAutoRotation();
        }
        
        function nextReview() {
            currentReviewIndex = (currentReviewIndex + 1) % 3;
            updateCarousel();
        }
        
        function startAutoRotation() {
            // Clear existing interval
            if (autoRotateInterval) {
                clearInterval(autoRotateInterval);
            }
            
            // Start new interval
            autoRotateInterval = setInterval(function() {
                document.getElementById('status').textContent = `Status: Auto-rotating to review ${(currentReviewIndex + 1) % 3 + 1}`;
                nextReview();
            }, 5000);
        }
        
        // Initialize carousel when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            initCarousel();
        });
    </script>
</body>
</html>
